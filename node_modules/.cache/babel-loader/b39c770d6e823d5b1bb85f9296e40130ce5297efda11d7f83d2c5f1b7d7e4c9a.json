{"ast":null,"code":"var _jsxFileName = \"E:\\\\cuvette-quizz-app\\\\cuvette-frontend-quiz-app\\\\src\\\\Login\\\\LoginForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from \"react-router\";\nimport axios from 'axios';\nimport styles from '../Login/Style.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginForm() {\n  _s();\n  const [login, setLogin] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [errorEmail, setErrorEmail] = useState('');\n  const [errorPassword, setErrorPassword] = useState('');\n  const navigate = useNavigate();\n  const handleChange = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    setLogin({\n      ...login,\n      [name]: value\n    });\n  };\n  const formValidation = () => {\n    // debugger\n    let isValid = true;\n    const emailRegex = /^\\S+@\\S+\\.\\S+$/;\n    if (!login.email) {\n      setErrorEmail(\"Invalid email\");\n      isValid = false;\n    } else if (!emailRegex.test(login.email)) {\n      setErrorEmail(\"Please enter valid email\");\n      isValid = false;\n    } else {\n      setErrorEmail('');\n    }\n    if (!login.password) {\n      setErrorPassword(\"Invalid password\");\n      isValid = false;\n    } else {\n      setErrorPassword('');\n    }\n    return isValid;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    debugger;\n    if (login.email && login.password) {\n      try {\n        if (formValidation()) {\n          const requestData = await axios.post(`${process.env.REACT_APP_API_URL}/api/auth/login`, login);\n          debugger;\n          if (requestData.status !== 200) {\n            throw new Error(\"Network error please try again later..\");\n          }\n          debugger;\n          const responseData = await requestData.data;\n          console.log(\"responseData\", responseData);\n          debugger;\n          window.localStorage.setItem(\"username\", responseData.name);\n          window.localStorage.setItem(\"token\", responseData.token);\n          navigate('/dashboard');\n\n          // Clear the input fields\n          setLogin({\n            email: \"\",\n            password: \"\"\n          });\n          alert(`Hi, ${responseData.name} Welcome aboard!`);\n        }\n      } catch (error) {\n        alert(\"There is a problem with request, please try again later\");\n        console.log(error);\n      }\n    } else {\n      alert(\"Please fill in both fields\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.parent,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: errorEmail ? styles.errorInput : \"\",\n          type: \"email\",\n          placeholder: errorEmail,\n          name: \"email\",\n          value: login.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.parent,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: errorPassword ? styles.errorInput : \"\",\n          type: \"password\",\n          placeholder: errorPassword,\n          name: \"password\",\n          value: login.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.signInBtnParent,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: styles.signInButton,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginForm, \"20IbQ5pALgu5Xg8Dev6/R3NH0rk=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","useNavigate","axios","styles","jsxDEV","_jsxDEV","LoginForm","_s","login","setLogin","email","password","errorEmail","setErrorEmail","errorPassword","setErrorPassword","navigate","handleChange","e","name","value","target","formValidation","isValid","emailRegex","test","handleSubmit","preventDefault","requestData","post","process","env","REACT_APP_API_URL","status","Error","responseData","data","console","log","window","localStorage","setItem","token","alert","error","children","onSubmit","className","main","parent","fileName","_jsxFileName","lineNumber","columnNumber","errorInput","type","placeholder","onChange","signInBtnParent","signInButton","_c","$RefreshReg$"],"sources":["E:/cuvette-quizz-app/cuvette-frontend-quiz-app/src/Login/LoginForm.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useNavigate } from \"react-router\"\r\nimport axios from 'axios';\r\nimport styles from '../Login/Style.module.css';\r\n\r\nfunction LoginForm() {\r\n    const [login, setLogin] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    })\r\n\r\n    const [errorEmail, setErrorEmail] = useState('');\r\n    const [errorPassword, setErrorPassword] = useState('');\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        let { name, value } = e.target\r\n        setLogin({ ...login, [name]: value })\r\n    }\r\n\r\n    const formValidation = () => {\r\n        // debugger\r\n        let isValid = true;\r\n\r\n        const emailRegex = /^\\S+@\\S+\\.\\S+$/;\r\n        if (!login.email) {\r\n            setErrorEmail(\"Invalid email\");\r\n            isValid = false;\r\n        } else if (!emailRegex.test(login.email)) {\r\n            setErrorEmail(\"Please enter valid email\");\r\n            isValid = false;\r\n        }\r\n        else {\r\n            setErrorEmail('');\r\n        }\r\n\r\n        if (!login.password) {\r\n            setErrorPassword(\"Invalid password\");\r\n            isValid = false;\r\n        } else {\r\n            setErrorPassword('');\r\n        }\r\n\r\n        return isValid;\r\n\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        debugger\r\n        if (login.email && login.password) {\r\n            try {\r\n                if (formValidation()) {\r\n                    const requestData = await axios.post(`${process.env.REACT_APP_API_URL}/api/auth/login`, login);\r\n                    debugger\r\n                    if (requestData.status !== 200) {\r\n                        throw new Error(\"Network error please try again later..\")\r\n                    }\r\n                    debugger\r\n                    const responseData = await requestData.data;\r\n                    console.log(\"responseData\", responseData);\r\n                    debugger\r\n                    \r\n                    window.localStorage.setItem(\"username\", responseData.name);\r\n                    window.localStorage.setItem(\"token\", responseData.token);\r\n\r\n                    navigate('/dashboard');\r\n\r\n                    // Clear the input fields\r\n                    setLogin({\r\n                        email: \"\",\r\n                        password: \"\",\r\n                    })\r\n\r\n                    alert(`Hi, ${responseData.name} Welcome aboard!`)\r\n                }\r\n            } catch (error) {\r\n                alert(\"There is a problem with request, please try again later\");\r\n                console.log(error);\r\n            }\r\n        } else {\r\n            alert(\"Please fill in both fields\")\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit} className={styles.main}>\r\n                <div className={styles.parent}>\r\n                    <label>Email</label>\r\n                    <input className={errorEmail ? styles.errorInput : \"\"} type='email' placeholder={errorEmail} name='email' value={login.email} onChange={handleChange} />\r\n                </div>\r\n                <div className={styles.parent}>\r\n                    <label>Password</label>\r\n                    <input className={errorPassword ? styles.errorInput : \"\"} type='password' placeholder={errorPassword} name='password' value={login.password} onChange={handleChange} />\r\n                </div>\r\n                <div className={styles.signInBtnParent}>\r\n                    <button type='submit' className={styles.signInButton}>Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}