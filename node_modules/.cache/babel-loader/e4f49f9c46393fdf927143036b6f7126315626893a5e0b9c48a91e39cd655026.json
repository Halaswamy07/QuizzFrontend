{"ast":null,"code":"import React,{useState,useEffect}from'react';import styles from'../Analytics/Style.module.css';import DeleteForeverIcon from'@mui/icons-material/DeleteForever';import AppRegistrationIcon from'@mui/icons-material/AppRegistration';import ShareIcon from'@mui/icons-material/Share';// import { Link } from 'react-router-dom';\nimport axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AnalyticsComponent(_ref){let{onQnaClick}=_ref;const[showConfirmation,setShowConfirmation]=useState(false);const[quizData,setQuizData]=useState([]);const[selectedQuiz,setSelectedQuiz]=useState(null);const navigate=useNavigate();const handleDeleteClick=quiz=>{setSelectedQuiz(quiz);setShowConfirmation(true);};const handleCancel=()=>{setShowConfirmation(false);};const handleConfirmDelete=async()=>{try{debugger;// Assuming your API supports DELETE requests and the quizId is available in selectedQuiz\nawait axios.delete(`http://localhost:4747/api/create/quiz/${selectedQuiz._id}`);// Refresh quizData after successful deletion\nconst response=await axios.get('http://localhost:4747/api/create/quiz');setQuizData(response.data);}catch(error){console.error('Error deleting quiz:',error);}finally{setSelectedQuiz(null);setShowConfirmation(false);}};useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get('http://localhost:4747/api/create/quiz');setQuizData(response.data);// Assuming the API returns an array of quiz data\n}catch(error){console.error('Error fetching quiz data:',error);}};fetchData();},[]);// Run the effect only once when the component mounts\nconst showSelected=id=>{// Use the onQnaClick prop function to navigate\n// onQnaClick(quizId);\nnavigate(`/question-analysis/${id}`);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.main,children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.heading,children:\"Quiz Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.tableWrapper,children:/*#__PURE__*/_jsxs(\"table\",{className:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{className:styles.thead,children:/*#__PURE__*/_jsxs(\"tr\",{className:styles.tableHeader,children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quiz Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created On\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Impression\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Share\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Question Wise Analysis\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:quizData.map((quiz,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:quiz.quizName}),/*#__PURE__*/_jsx(\"td\",{children:new Date(quiz.currentDateAndTime).toLocaleDateString('en-US',{day:'numeric',month:'short',year:'numeric'})}),/*#__PURE__*/_jsx(\"td\",{children:\"100\"}),/*#__PURE__*/_jsx(\"td\",{className:styles.editIcon,children:/*#__PURE__*/_jsx(AppRegistrationIcon,{})}),/*#__PURE__*/_jsx(\"td\",{className:styles.deleteIcon,onClick:()=>handleDeleteClick(quiz),children:/*#__PURE__*/_jsx(DeleteForeverIcon,{})}),/*#__PURE__*/_jsx(\"td\",{className:styles.shareIcon,children:/*#__PURE__*/_jsx(ShareIcon,{})}),/*#__PURE__*/_jsx(\"td\",{className:styles.qnaLink,onClick:()=>showSelected(quiz._id),children:\"Question wise analysis\"})]},index))})]})}),showConfirmation&&/*#__PURE__*/_jsx(\"div\",{className:styles.overlay,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.confirmationDialog,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.paragraphDiv,children:/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to delete?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.flexButton,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.confirmButton,onClick:handleConfirmDelete,children:\"Confirm Delete\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.cancelButton,onClick:handleCancel,children:\"Cancel\"})]})]})})]})});}export default AnalyticsComponent;","map":{"version":3,"names":["React","useState","useEffect","styles","DeleteForeverIcon","AppRegistrationIcon","ShareIcon","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AnalyticsComponent","_ref","onQnaClick","showConfirmation","setShowConfirmation","quizData","setQuizData","selectedQuiz","setSelectedQuiz","navigate","handleDeleteClick","quiz","handleCancel","handleConfirmDelete","delete","_id","response","get","data","error","console","fetchData","showSelected","id","children","className","main","heading","tableWrapper","table","thead","tableHeader","map","index","quizName","Date","currentDateAndTime","toLocaleDateString","day","month","year","editIcon","deleteIcon","onClick","shareIcon","qnaLink","overlay","confirmationDialog","paragraphDiv","flexButton","confirmButton","cancelButton"],"sources":["E:/cuvette-quizz-app/cuvette-frontend-quiz-app/src/Analytics/AnalyticsComponent.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport styles from '../Analytics/Style.module.css'\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\nimport AppRegistrationIcon from '@mui/icons-material/AppRegistration';\r\nimport ShareIcon from '@mui/icons-material/Share';\r\n// import { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction AnalyticsComponent({ onQnaClick }) {\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n  const [quizData, setQuizData] = useState([]);\r\n  const [selectedQuiz, setSelectedQuiz] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleDeleteClick = (quiz) => {\r\n    setSelectedQuiz(quiz);\r\n    setShowConfirmation(true);\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setShowConfirmation(false);\r\n  }\r\n\r\n  const handleConfirmDelete = async () => {\r\n    try {\r\n      debugger\r\n      // Assuming your API supports DELETE requests and the quizId is available in selectedQuiz\r\n      await axios.delete(`http://localhost:4747/api/create/quiz/${selectedQuiz._id}`);\r\n      // Refresh quizData after successful deletion\r\n      const response = await axios.get('http://localhost:4747/api/create/quiz');\r\n      setQuizData(response.data);\r\n      \r\n    } catch (error) {\r\n      console.error('Error deleting quiz:', error);\r\n    } finally {\r\n      setSelectedQuiz(null);\r\n      setShowConfirmation(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:4747/api/create/quiz');\r\n        setQuizData(response.data); // Assuming the API returns an array of quiz data\r\n      } catch (error) {\r\n        console.error('Error fetching quiz data:', error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []); // Run the effect only once when the component mounts\r\n\r\n\r\n  const showSelected = (id) => {\r\n    // Use the onQnaClick prop function to navigate\r\n    // onQnaClick(quizId);\r\n    navigate(`/question-analysis/${id}`)\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.main}>\r\n        <h2 className={styles.heading}>Quiz Analysis</h2>\r\n        <div className={styles.tableWrapper}>\r\n          <table className={styles.table}>\r\n            <thead className={styles.thead}>\r\n              <tr className={styles.tableHeader}>\r\n                <th>S.No.</th>\r\n                <th>Quiz Name</th>\r\n                <th>Created On</th>\r\n                <th>Impression</th>\r\n                <th>Edit</th>\r\n                <th>Delete</th>\r\n                <th>Share</th>\r\n                <th>Question Wise Analysis</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {quizData.map((quiz, index) => (\r\n                <tr key={index}>\r\n                  <td>{index + 1}</td>\r\n                  <td>{quiz.quizName}</td>\r\n                  <td>{new Date(quiz.currentDateAndTime).toLocaleDateString('en-US', { day: 'numeric', month: 'short', year: 'numeric' })}</td>\r\n                  <td>100</td>\r\n                  <td className={styles.editIcon}>\r\n                    <AppRegistrationIcon />\r\n                  </td>\r\n                  <td className={styles.deleteIcon} onClick={() => handleDeleteClick(quiz)}>\r\n                    <DeleteForeverIcon />\r\n                  </td>\r\n                  <td className={styles.shareIcon}>\r\n                    <ShareIcon />\r\n                  </td>\r\n                  <td className={styles.qnaLink} onClick={() => showSelected(quiz._id)}>\r\n                    {/* <Link to=\"#\" className={styles.qnaLink} onClick={onQnaClick}>\r\n                    Question wise analysis\r\n                  </Link> */}\r\n\r\n\r\n                    {/* <Link to=\"#\" className={styles.qnaLink} onClick={() => onQnaClick(quiz)}> */}\r\n                      Question wise analysis\r\n                    {/* </Link> */}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        {\r\n          showConfirmation && (\r\n            <div className={styles.overlay}>\r\n              <div className={styles.confirmationDialog}>\r\n                <div className={styles.paragraphDiv}>\r\n                  <p>Are you sure you want to delete?</p>\r\n                </div>\r\n                <div className={styles.flexButton}>\r\n                  <button className={styles.confirmButton} onClick={handleConfirmDelete}>Confirm Delete</button>\r\n                  <button className={styles.cancelButton} onClick={handleCancel}>Cancel</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AnalyticsComponent"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}