{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from\"react-router\";import axios from'axios';import styles from'../Register/Style.module.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function RegisterForm(){let[register,setRegister]=useState({name:\"\",email:\"\",password:\"\",confirmPassword:\"\"});let[errorName,setErrorName]=useState('');let[errorEmail,setErrorEmail]=useState('');let[errorPassword,setErrorPassword]=useState('');let[errorConfirmPassword,setErrorConfirmPassword]=useState('');let navigate=useNavigate();let handleChange=e=>{debugger;let{name,value}=e.target;// setRegister({ ...register, [name]: value });\nsetRegister(prevRegister=>({...prevRegister,[name]:value||''}));console.log(\"Register\",register);// console.log(\"prevRegister\", prevRegister);\n};let formValidation=()=>{let isValid=true;if(!register.name){setErrorName(\"Invalid name\");isValid=false;}else{setErrorName('');}const emailRegex=/^\\S+@\\S+\\.\\S+$/;if(!register.email){setErrorEmail(\"Invalid email\");isValid=false;}else if(!emailRegex.test(register.email)){setErrorEmail(\"Please enter valid email\");}else{setErrorEmail('');}if(!register.password){setErrorPassword(\"Invalid password\");isValid=false;}else if(register.password.length<4){setErrorPassword('Weak Password (min 4 characters)');isValid=false;}else{setErrorPassword('');}if(!register.confirmPassword){setErrorConfirmPassword(\"Invalid confirm password\");isValid=false;}else if(register.password!==register.confirmPassword){alert(\"Passwords does'nt match\");isValid=false;}else{setErrorConfirmPassword('');}return isValid;};let handleSubmit=async e=>{e.preventDefault();debugger;// if (!register.name || !register.email || !register.password || !register.confirmPassword) {\n//     alert(\"Please fill all the data\");\n//     return\n// }\n// console.log(\"register\", register);\ntry{if(formValidation()){const requestData=await axios.post(`${process.env.REACT_APP_API_URL}/api/auth/register`,register);debugger;if(requestData.status!==200){throw new Error(\"Network error please try again later..\");}const responseData=await requestData.data;console.log(\"responseData\",responseData);debugger;window.localStorage.setItem(\"username\",responseData.user);window.localStorage.setItem(\"token\",responseData.token);let userName=window.localStorage.getItem('username');setRegister({name:\"\",email:\"\",password:\"\",confirmPassword:\"\"});alert(`Congratulations! ðŸŽ‰ ${userName} You have been successfully registered.`);navigate('/dashboard');}}catch(error){console.error(error);alert(\"There is a problem with request, please again later\");}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:styles.main,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.parent,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:errorName?styles.errorInput:\"\",type:\"text\",placeholder:errorName,name:\"name\",value:register.name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.parent,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:errorEmail?styles.errorInput:\"\",type:\"email\",placeholder:errorEmail,name:\"email\",value:register.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.parent,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:errorPassword?styles.errorInput:\"\",type:\"password\",placeholder:errorPassword,name:\"password\",value:register.password,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.parent,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{className:errorConfirmPassword?styles.errorInput:\"\",type:\"password\",placeholder:errorConfirmPassword,name:\"confirmPassword\",value:register.confirmPassword,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.signUpBtnParent,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.signUpButton,children:\"Sign up\"})})]})});}export default RegisterForm;","map":{"version":3,"names":["React","useState","useNavigate","axios","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RegisterForm","register","setRegister","name","email","password","confirmPassword","errorName","setErrorName","errorEmail","setErrorEmail","errorPassword","setErrorPassword","errorConfirmPassword","setErrorConfirmPassword","navigate","handleChange","e","value","target","prevRegister","console","log","formValidation","isValid","emailRegex","test","length","alert","handleSubmit","preventDefault","requestData","post","process","env","REACT_APP_API_URL","status","Error","responseData","data","window","localStorage","setItem","user","token","userName","getItem","error","children","onSubmit","className","main","parent","errorInput","type","placeholder","onChange","signUpBtnParent","signUpButton"],"sources":["E:/cuvette-quizz-app/cuvette-frontend-quiz-app/src/Register/RegisterForm.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useNavigate } from \"react-router\"\r\nimport axios from 'axios';\r\nimport styles from '../Register/Style.module.css';\r\n\r\nfunction RegisterForm() {\r\n    let [register, setRegister] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\"\r\n    })\r\n\r\n    let [errorName, setErrorName] = useState('');\r\n    let [errorEmail, setErrorEmail] = useState('');\r\n    let [errorPassword, setErrorPassword] = useState('');\r\n    let [errorConfirmPassword, setErrorConfirmPassword] = useState('');\r\n\r\n    let navigate = useNavigate();\r\n\r\n    let handleChange = (e) => {\r\n        debugger\r\n        let { name, value } = e.target;\r\n        // setRegister({ ...register, [name]: value });\r\n        setRegister((prevRegister) => ({ ...prevRegister, [name]: value || '' }));\r\n        console.log(\"Register\", register);\r\n        // console.log(\"prevRegister\", prevRegister);\r\n        \r\n    }\r\n\r\n    let formValidation = () => {\r\n\r\n        let isValid = true;\r\n\r\n        if (!register.name) {\r\n            setErrorName(\"Invalid name\");\r\n            isValid = false;\r\n        } else {\r\n            setErrorName('');\r\n        }\r\n\r\n        const emailRegex = /^\\S+@\\S+\\.\\S+$/;\r\n        if (!register.email) {\r\n            setErrorEmail(\"Invalid email\");\r\n            isValid = false;\r\n        } else if (!emailRegex.test(register.email)) {\r\n            setErrorEmail(\"Please enter valid email\");\r\n        }\r\n        else {\r\n            setErrorEmail('');\r\n        }\r\n\r\n        if (!register.password) {\r\n            setErrorPassword(\"Invalid password\");\r\n            isValid = false;\r\n        } else if (register.password.length < 4) {\r\n            setErrorPassword('Weak Password (min 4 characters)');\r\n            isValid = false;\r\n        } else {\r\n            setErrorPassword('');\r\n        }\r\n\r\n        if (!register.confirmPassword) {\r\n            setErrorConfirmPassword(\"Invalid confirm password\");\r\n            isValid = false;\r\n        } else if (register.password !== register.confirmPassword) {\r\n            alert(\"Passwords does'nt match\");\r\n            isValid = false;\r\n        } else {\r\n            setErrorConfirmPassword('');\r\n        }\r\n        return isValid;\r\n\r\n    }\r\n\r\n    let handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        debugger\r\n        // if (!register.name || !register.email || !register.password || !register.confirmPassword) {\r\n        //     alert(\"Please fill all the data\");\r\n        //     return\r\n        // }\r\n        // console.log(\"register\", register);\r\n\r\n        try {\r\n            if (formValidation()) {\r\n                const requestData = await axios.post(`${process.env.REACT_APP_API_URL}/api/auth/register`, register);\r\n                debugger\r\n                if (requestData.status !== 200) {\r\n                    throw new Error(\"Network error please try again later..\")\r\n                }\r\n\r\n                const responseData = await requestData.data;\r\n                console.log(\"responseData\", responseData);\r\n                debugger\r\n\r\n                window.localStorage.setItem(\"username\", responseData.user);\r\n                window.localStorage.setItem(\"token\", responseData.token);\r\n\r\n                let userName = window.localStorage.getItem('username');\r\n\r\n                setRegister({\r\n                    name: \"\",\r\n                    email: \"\",\r\n                    password: \"\",\r\n                    confirmPassword: \"\"\r\n                });\r\n\r\n                alert(`Congratulations! ðŸŽ‰ ${userName} You have been successfully registered.`);\r\n                navigate('/dashboard')\r\n\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(error)\r\n            alert(\"There is a problem with request, please again later\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={handleSubmit} className={styles.main}>\r\n                <div className={styles.parent}>\r\n                    <label >Name</label>\r\n                    <input className={errorName ? styles.errorInput : \"\"} type='text' placeholder={errorName} name='name' value={register.name} onChange={handleChange} />\r\n                </div>\r\n                <div className={styles.parent}>\r\n                    <label>Email</label>\r\n                    <input className={errorEmail ? styles.errorInput : \"\"} type='email' placeholder={errorEmail} name='email' value={register.email} onChange={handleChange} />\r\n                </div>\r\n                <div className={styles.parent}>\r\n                    <label>Password</label>\r\n                    <input className={errorPassword ? styles.errorInput : \"\"} type='password' placeholder={errorPassword} name='password' value={register.password} onChange={handleChange} />\r\n                </div>\r\n                <div className={styles.parent}>\r\n                    <label>Confirm Password</label>\r\n                    <input className={errorConfirmPassword ? styles.errorInput : \"\"} type='password' placeholder={errorConfirmPassword} name='confirmPassword' value={register.confirmPassword} onChange={handleChange} />\r\n                </div>\r\n                <div className={styles.signUpBtnParent}>\r\n                    <button type='submit' className={styles.signUpButton}>Sign up</button>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RegisterForm"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,cAAc,CAC1C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAElD,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACpB,GAAI,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CACnCa,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,eAAe,CAAE,EACrB,CAAC,CAAC,CAEF,GAAI,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC5C,GAAI,CAACmB,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC9C,GAAI,CAACqB,aAAa,CAAEC,gBAAgB,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CACpD,GAAI,CAACuB,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAElE,GAAI,CAAAyB,QAAQ,CAAGxB,WAAW,CAAC,CAAC,CAE5B,GAAI,CAAAyB,YAAY,CAAIC,CAAC,EAAK,CACtB,SACA,GAAI,CAAEd,IAAI,CAAEe,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAC9B;AACAjB,WAAW,CAAEkB,YAAY,GAAM,CAAE,GAAGA,YAAY,CAAE,CAACjB,IAAI,EAAGe,KAAK,EAAI,EAAG,CAAC,CAAC,CAAC,CACzEG,OAAO,CAACC,GAAG,CAAC,UAAU,CAAErB,QAAQ,CAAC,CACjC;AAEJ,CAAC,CAED,GAAI,CAAAsB,cAAc,CAAGA,CAAA,GAAM,CAEvB,GAAI,CAAAC,OAAO,CAAG,IAAI,CAElB,GAAI,CAACvB,QAAQ,CAACE,IAAI,CAAE,CAChBK,YAAY,CAAC,cAAc,CAAC,CAC5BgB,OAAO,CAAG,KAAK,CACnB,CAAC,IAAM,CACHhB,YAAY,CAAC,EAAE,CAAC,CACpB,CAEA,KAAM,CAAAiB,UAAU,CAAG,gBAAgB,CACnC,GAAI,CAACxB,QAAQ,CAACG,KAAK,CAAE,CACjBM,aAAa,CAAC,eAAe,CAAC,CAC9Bc,OAAO,CAAG,KAAK,CACnB,CAAC,IAAM,IAAI,CAACC,UAAU,CAACC,IAAI,CAACzB,QAAQ,CAACG,KAAK,CAAC,CAAE,CACzCM,aAAa,CAAC,0BAA0B,CAAC,CAC7C,CAAC,IACI,CACDA,aAAa,CAAC,EAAE,CAAC,CACrB,CAEA,GAAI,CAACT,QAAQ,CAACI,QAAQ,CAAE,CACpBO,gBAAgB,CAAC,kBAAkB,CAAC,CACpCY,OAAO,CAAG,KAAK,CACnB,CAAC,IAAM,IAAIvB,QAAQ,CAACI,QAAQ,CAACsB,MAAM,CAAG,CAAC,CAAE,CACrCf,gBAAgB,CAAC,kCAAkC,CAAC,CACpDY,OAAO,CAAG,KAAK,CACnB,CAAC,IAAM,CACHZ,gBAAgB,CAAC,EAAE,CAAC,CACxB,CAEA,GAAI,CAACX,QAAQ,CAACK,eAAe,CAAE,CAC3BQ,uBAAuB,CAAC,0BAA0B,CAAC,CACnDU,OAAO,CAAG,KAAK,CACnB,CAAC,IAAM,IAAIvB,QAAQ,CAACI,QAAQ,GAAKJ,QAAQ,CAACK,eAAe,CAAE,CACvDsB,KAAK,CAAC,yBAAyB,CAAC,CAChCJ,OAAO,CAAG,KAAK,CACnB,CAAC,IAAM,CACHV,uBAAuB,CAAC,EAAE,CAAC,CAC/B,CACA,MAAO,CAAAU,OAAO,CAElB,CAAC,CAED,GAAI,CAAAK,YAAY,CAAG,KAAO,CAAAZ,CAAC,EAAK,CAC5BA,CAAC,CAACa,cAAc,CAAC,CAAC,CAClB,SACA;AACA;AACA;AACA;AACA;AAEA,GAAI,CACA,GAAIP,cAAc,CAAC,CAAC,CAAE,CAClB,KAAM,CAAAQ,WAAW,CAAG,KAAM,CAAAvC,KAAK,CAACwC,IAAI,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,oBAAoB,CAAElC,QAAQ,CAAC,CACpG,SACA,GAAI8B,WAAW,CAACK,MAAM,GAAK,GAAG,CAAE,CAC5B,KAAM,IAAI,CAAAC,KAAK,CAAC,wCAAwC,CAAC,CAC7D,CAEA,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAP,WAAW,CAACQ,IAAI,CAC3ClB,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEgB,YAAY,CAAC,CACzC,SAEAE,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAEJ,YAAY,CAACK,IAAI,CAAC,CAC1DH,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEJ,YAAY,CAACM,KAAK,CAAC,CAExD,GAAI,CAAAC,QAAQ,CAAGL,MAAM,CAACC,YAAY,CAACK,OAAO,CAAC,UAAU,CAAC,CAEtD5C,WAAW,CAAC,CACRC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,eAAe,CAAE,EACrB,CAAC,CAAC,CAEFsB,KAAK,CAAC,uBAAuBiB,QAAQ,yCAAyC,CAAC,CAC/E9B,QAAQ,CAAC,YAAY,CAAC,CAE1B,CAEJ,CAAE,MAAOgC,KAAK,CAAE,CACZ1B,OAAO,CAAC0B,KAAK,CAACA,KAAK,CAAC,CACpBnB,KAAK,CAAC,qDAAqD,CAAC,CAChE,CACJ,CAAC,CAED,mBACIjC,IAAA,CAAAI,SAAA,EAAAiD,QAAA,cACInD,KAAA,SAAMoD,QAAQ,CAAEpB,YAAa,CAACqB,SAAS,CAAEzD,MAAM,CAAC0D,IAAK,CAAAH,QAAA,eACjDnD,KAAA,QAAKqD,SAAS,CAAEzD,MAAM,CAAC2D,MAAO,CAAAJ,QAAA,eAC1BrD,IAAA,UAAAqD,QAAA,CAAQ,MAAI,CAAO,CAAC,cACpBrD,IAAA,UAAOuD,SAAS,CAAE3C,SAAS,CAAGd,MAAM,CAAC4D,UAAU,CAAG,EAAG,CAACC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAEhD,SAAU,CAACJ,IAAI,CAAC,MAAM,CAACe,KAAK,CAAEjB,QAAQ,CAACE,IAAK,CAACqD,QAAQ,CAAExC,YAAa,CAAE,CAAC,EACrJ,CAAC,cACNnB,KAAA,QAAKqD,SAAS,CAAEzD,MAAM,CAAC2D,MAAO,CAAAJ,QAAA,eAC1BrD,IAAA,UAAAqD,QAAA,CAAO,OAAK,CAAO,CAAC,cACpBrD,IAAA,UAAOuD,SAAS,CAAEzC,UAAU,CAAGhB,MAAM,CAAC4D,UAAU,CAAG,EAAG,CAACC,IAAI,CAAC,OAAO,CAACC,WAAW,CAAE9C,UAAW,CAACN,IAAI,CAAC,OAAO,CAACe,KAAK,CAAEjB,QAAQ,CAACG,KAAM,CAACoD,QAAQ,CAAExC,YAAa,CAAE,CAAC,EAC1J,CAAC,cACNnB,KAAA,QAAKqD,SAAS,CAAEzD,MAAM,CAAC2D,MAAO,CAAAJ,QAAA,eAC1BrD,IAAA,UAAAqD,QAAA,CAAO,UAAQ,CAAO,CAAC,cACvBrD,IAAA,UAAOuD,SAAS,CAAEvC,aAAa,CAAGlB,MAAM,CAAC4D,UAAU,CAAG,EAAG,CAACC,IAAI,CAAC,UAAU,CAACC,WAAW,CAAE5C,aAAc,CAACR,IAAI,CAAC,UAAU,CAACe,KAAK,CAAEjB,QAAQ,CAACI,QAAS,CAACmD,QAAQ,CAAExC,YAAa,CAAE,CAAC,EACzK,CAAC,cACNnB,KAAA,QAAKqD,SAAS,CAAEzD,MAAM,CAAC2D,MAAO,CAAAJ,QAAA,eAC1BrD,IAAA,UAAAqD,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BrD,IAAA,UAAOuD,SAAS,CAAErC,oBAAoB,CAAGpB,MAAM,CAAC4D,UAAU,CAAG,EAAG,CAACC,IAAI,CAAC,UAAU,CAACC,WAAW,CAAE1C,oBAAqB,CAACV,IAAI,CAAC,iBAAiB,CAACe,KAAK,CAAEjB,QAAQ,CAACK,eAAgB,CAACkD,QAAQ,CAAExC,YAAa,CAAE,CAAC,EACrM,CAAC,cACNrB,IAAA,QAAKuD,SAAS,CAAEzD,MAAM,CAACgE,eAAgB,CAAAT,QAAA,cACnCrD,IAAA,WAAQ2D,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAEzD,MAAM,CAACiE,YAAa,CAAAV,QAAA,CAAC,SAAO,CAAQ,CAAC,CACrE,CAAC,EACJ,CAAC,CACT,CAAC,CAEX,CAEA,cAAe,CAAAhD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}